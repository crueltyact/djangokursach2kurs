{% include 'base/header.html' %}
{% load static %}
<body>
{% include 'base/body.html' %}
{% block body %}
<div class="main">
    <div class="container h-100">
        <div class="row d-flex h-100">
            {% include 'base/menu.html' %}
            <fieldset class="col-9 pt-5">
                <form method="post" action="disciplines.html">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-sm-6">
                            <div id="modules">
                                <p class="drag"><a class="btn btn-default">Text</a></p>
                                <p class="drag"><a class="btn btn-default">Textarea</a></p>
                                <p class="drag"><a class="btn btn-default">Number</a></p>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div id="dropzone"></div>
                        </div>
                    </div>
                    <!--                    <button type="submit" name="edit" value="edit" class="btn btn-primary">Назад</button>-->
                    <button type="submit" name="next" value="next" class="btn btn-primary">Далее</button>
                </form>
            </fieldset>
        </div>
    </div>
</div>
{% endblock %}
<!-- <footer class="footer">
    <p>&copy Лучшая команда КИС 2022</p>
</footer> -->
{% include 'base/scripts.html' %}
<script>
    $('.drag').draggable({
        appendTo: 'body',
        helper: 'clone'
    });

    $('#dropzone').droppable({
        activeClass: 'active',
        hoverClass: 'hover',
        accept: ":not(.ui-sortable-helper)", // Reject clones generated by sortable
        drop: function (e, ui) {
            var $el = $('<div class="drop-item"><details><summary>' + ui.draggable.text() + '</summary><div><label>More Data</label><input type="text" /></div></details></div>');
            $el.append($('<button type="button" class="btn btn-default btn-xs remove"><span class="glyphicon glyphicon-trash"></span></button>').click(function () {
                $(this).parent().detach();
            }));
            $(this).append($el);
        }
    }).sortable({
        items: '.drop-item',
        sort: function () {
            // gets added unintentionally by droppable interacting with sortable
            // using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options
            $(this).removeClass("active");
        }
    });
</script>
</body>